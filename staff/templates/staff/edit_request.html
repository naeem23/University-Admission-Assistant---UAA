{% extends 'base.html' %}

{% block title %}University Admission Assistant - Universities{% endblock %}

{% block optional-css %}
.navbar:not(.top-nav-collapse) {
  background: #1D1F25 !important;
}
{% endblock %}

{% block main-content %}
	<br>
	<br>
	<br>
	<br>
	<div class="container mt-5">

		<form method="POST" enctype="multipart/form-data" class="card p-5">
			{% csrf_token %}
			<div class="row">
				<div class="col-12 text-center">
					<h3 class="font-weight-bold">Edit Apply Requiest</h3>
				</div>
			</div>

			<div class="row flex-center">
				<div class="col-12 col-md-6 col-sm-10 mt-4">
					<span style="color: #757575; font-size: 1rem">Application Status</span>
					<div class="md-form form-sm">
				        {{ form.status }}
				    </div>
				</div>
			</div>
			<div class="row flex-center mt-2">
				<div class="col-12 col-md-6 col-sm-10">
                    <div class="md-form">
						{{ form.information }}
						<label for="id_information" style="font-size: 1rem">Other Informaiton</label>
                    </div>
				</div>
			</div>
			<div class="row flex-center">
				<div class="col-12 col-md-6 col-sm-10">
					<span style="color: #757575; font-size: 1rem">Admit Card</span>
					<div class="md-form">
						<input type="file" name="admit_card" id="id_admit_card" hidden="hidden">
						<button type="button" class="btn btn-default btn-sm" id="custom-button">Upload</button>
						<span id="custom-text">No file chosen.</span>
					</div>
				</div>
			</div>

			<div class="row flex-center">
				<div class="col-12 col-md-6">
					<button type="submit" class="btn btn-default btn-sm"><i class="fas fa-paper-plane mr-2"></i>Submit</button>
				</div>
			</div>
		</form>
	</div>
{% endblock %}

{% block optional-js %}
<!-- following js code for file upload button -->
<script type="text/javascript">
	const realFileBtn = document.getElementById("id_admit_card");
	const customBtn = document.getElementById("custom-button");
	const customText = document.getElementById("custom-text");

	customBtn.addEventListener("click", function(){
		realFileBtn.click();
	});

	realFileBtn.addEventListener("change", function(){
		if(realFileBtn.value){
			customText.innerHTML = realFileBtn.value.match(/[\/\\]([\w\d\s\.\-\(\)]+)$/)[1];
		}else{
			customText.innerHTML = "No file chosen."
		}
	});
</script>
{% endblock %}